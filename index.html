<script>
  const FPS = 1;
  const apple = {
    x: 400,
    y: 400,
    size: 20
  };
  const snake = {
    x: 50,
    y: 10,
    size: 20,
    tail: [
      {
        x: 30,
        y: 10,
      },
      {
        x: 10,
        y: 10,
      },
    ],
    directionX: 1,
    directionY: 0,
  };

  const initializeGame = () => {
    createCanvas();
    const ctx = document
      .getElementById('gameField')
      .getContext('2d');

    drawGameField(ctx)();

    setInterval(gameLoop, FPS * 1000, ctx, apple, snake);
  }
  const gameLoop = (ctx, apple, snake) => {
    drawGameField(ctx)();
    drawApple(ctx)(apple);
    drawSnake(ctx)(snake)
  };

  const createCanvas = () => {
    const canvas = document.createElement('canvas');
    canvas.id = 'gameField';
    canvas.height = 800;
    canvas.width = 800;
    canvas.style.borderWidth = 1;
    canvas.style.borderColor = 'black';
    canvas.style.borderStyle = 'solid';
    document.body.appendChild(canvas);
  }
  const drawCircle = ctx => (x, y, radius, color) => {
    ctx.beginPath();
    ctx.fillStyle = color;
    ctx.arc(x, y, radius, 0, 2 * Math.PI);
    ctx.fill();
  }
  const drawGameField = (ctx) => () => {
    ctx.fillStyle = 'black';
    ctx.fillRect(0, 0, 800, 800)
  };
  const drawApple = ctx => ({ x, y, size }) => {
    drawCircle(ctx)(x,y,size/2,'red')
  }
  const drawSnake = ctx => ({
    x,
    y,
    size,
    tail,
  }) => {
    const renderSegment = (x,y) => {
      drawCircle(ctx)(x,y, size/2,'lime')
    }
    renderSegment(x,y);
    tail.forEach(({ x, y }) => {
      renderSegment(x,y);
    })
  };
  window.addEventListener('load', initializeGame)
</script>

<body></body>